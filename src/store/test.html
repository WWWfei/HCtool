<html>
    <script src="../../node_modules//ejs//ejs.js"></script>
    <script>
      const htmlTemplate = `
    <% if(buildings.length >= 0) { %>
      <% for(const item of buildings){ %>
        <% if(item.componentName === 'TCell'){ %>
          <div>
            <% for(const subItem of item.flexList){ %>
              <% if(item.flexList.length === 1) { %>
                <%- renderHtml({buildings: subItem.childrenList}) %>
              <% } else { %>
                <div style="">
                  <%- renderHtml({buildings: subItem.childrenList}) %>
                </div>
              <% } %>
            <% } %>
          </div>
        <%  } %>
      <%  } %>
    <% } %>`;

      const renderHtml = (data) => {
        const output = ejs.render(htmlTemplate, data);
        console.log('output', output);
        return ejs.render(htmlTemplate, data);
      };
      const buildings = [
        {
          id: 'K191WUm0b',
          name: 'Cell',
          attribute: 'LAYOUT',
          componentName: 'TCell',
          flexList: [
            {
              widthRatio: 1,
              childrenList: [
                {
                  id: 'i6ksr_cKoG',
                  name: 'Cell',
                  attribute: 'LAYOUT',
                  componentName: 'TCell',
                  flexList: [
                    {
                      widthRatio: 1,
                      childrenList: []
                    }
                  ],
                  styleInfo: {
                    name: 'test',
                    style: {}
                  }
                }
              ]
            }
          ],
          styleInfo: {
            name: 'test',
            style: {}
          }
        }
      ]

    const result = renderHtml({buildings});
    console.log('result', result);
    </script>
</html>





<div></div>
<div>
  <div style="">
    <div>
      <div style=""></div>
      <div style=""></div>
    </div>
  </div>
  <div style="">
    <div>
      <div style=""></div>
      <div style=""></div>
      <div style=""></div>
    </div>
  </div>
</div>
<div>
  <div style="">
    <div></div>
  </div>
  <div style="">
    <div>
      <div style="">
        <div>
          <div style=""></div>
          <div style=""></div>
          <div style=""></div>
        </div>
      </div>
      <div style=""></div>
      <div style=""></div>
    </div>
  </div>
  <div style="">
    <div>
      <div style=""></div>
      <div style=""></div>
      <div style=""></div>
    </div>
  </div>
</div>